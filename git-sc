
# git-sc - Start Commit Script
echo "ğŸš€ Starting work session..."

# Get current branch
current_branch=$(git branch --show-current)

# Stash any uncommitted changes
echo "ğŸ“¦ Stashing any uncommitted changes..."
git stash push -m "Auto-stash before sync $(date)"

# Pull latest changes from main
echo "â¬‡ï¸  Pulling latest changes from main..."
git pull origin main

# Check if we're on main branch
if [ "$current_branch" != "main" ]; then
    echo "ğŸ”€ You're on branch: $current_branch"
    echo "ğŸ’¡ Consider merging main into your branch: git merge main"
fi

# Apply stashed changes if any
stash_list=$(git stash list)
if [[ $stash_list == *"Auto-stash before sync"* ]]; then
    echo "ğŸ”„ Applying stashed changes..."
    git stash pop
fi

# Show current status
echo "ğŸ“Š Current status:"
git status --short

echo "âœ… Ready to work! Current branch: $current_branch"
echo "ğŸ’¡ Remember to use 'git etc \"your message\"' when done"